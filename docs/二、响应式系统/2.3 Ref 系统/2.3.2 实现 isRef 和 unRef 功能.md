# 2.3.2 实现 isRef 和 unRef 功能

## 实现isRef

在业务逻辑中，需要判断某个变量它到底是一个 **普通的数值**（比如 `1`），还是一个 **Ref 对象；实现方式还是加一个身份flag**

```typescript
class RefImpl {
		...
    public __v_isRef = true
		...
}

export function isRef(ref: any) {
    // 还是!! 需要将undefined 转换false
    return !!(ref && ref.__v_isRef === true)
}
```

## 实现unRef

本质一个**语法糖，返回最本质的值**：如果是 ref，给我 `.value`；如果是普通值，直接给我 `x`

```typescript
export function unRef(ref: any) {
    return isRef(ref) ? ref.value : ref
}
```